#!/bin/bash

name=$(playerctl metadata -f '{{playerName}}')
status=$(playerctl status)

if [[ "$status" == "Playing" ]]; then
  case "$name" in
    spotify)
      set_0=$(playerctl metadata -f " 󰓇  {{title}} - {{artist}}")
      set_1=$(playerctl metadata -f "󰓇  {{title}}")
      ;;
    firefox)
      set_0=$(playerctl metadata -f " 󰈹  {{title}} - {{artist}}")
      ;;
    mpd)
      set_0=$(playerctl metadata -f " 󰎆  {{title}} - {{artist}}")
      ;;
    chromium)
      set_0=$(playerctl metadata -f " 󰊯  {{title}} - {{artist}}")
      ;;
  esac

elif [[ "$status" == "Paused" ]]; then
  if [[ "$name" == "spotify" ]]; then
    set_1=$(playerctl metadata -f "  {{title}}")
  fi
fi

case "$1" in
  --lockscreen)
    echo "$set_0"
    ;;
  --bar)
    echo "$set_1"
    ;;
esac
